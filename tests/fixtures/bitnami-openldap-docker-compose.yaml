services:
  openldap:
    image: bitnamilegacy/openldap:2.6 # This image won't receive updates due to https://github.com/bitnami/containers/issues/83267, but it is still fine for automated testing.
    ports:
      - '1389:1389'
      - '1636:1636'
    environment:
      BITNAMI_DEBUG: true
      LDAP_ROOT: "dc=example,dc=org"
      LDAP_ADMIN_USERNAME: admin
      LDAP_ADMIN_PASSWORD: adminpassword
      LDAP_CUSTOM_LDIF_DIR: "/ldifs"
    volumes:
      - 'openldap_data:/bitnami/openldap'
      - ./ldifs:/ldifs/

volumes:
  openldap_data:
    driver: local
